%
% Footsteps generated using the c++ version of the WMG
%

figure
clear FS;
hold on;

FS(1).a = 0.000000;
FS(1).p = [0.000000;0.050000];
FS(1).d = [0.090000;0.075000;0.030000;-0.025000];
FS(1).D = [1.000000 0.000000;-0.000000 1.000000;-1.000000 -0.000000;0.000000 -1.000000];
FS(1).v = [0.090000 0.025000; 0.090000 0.075000; -0.030000 0.075000; -0.030000 0.025000; 0.090000 0.025000];
FS(1).type = 2;
plot (FS(1).v(:,1), FS(1).v(:,2), 'r');

FS(5).a = 0.000000;
FS(5).p = [0.000000;-0.050000];
FS(5).d = [0.090000;-0.025000;0.030000;0.075000];
FS(5).D = [1.000000 0.000000;-0.000000 1.000000;-1.000000 -0.000000;0.000000 -1.000000];
FS(5).v = [0.090000 -0.075000; 0.090000 -0.025000; -0.030000 -0.025000; -0.030000 -0.075000; 0.090000 -0.075000];
FS(5).type = 2;
plot (FS(5).v(:,1), FS(5).v(:,2), 'r');

FS(8).a = 0.000000;
FS(8).p = [0.040000;0.050000];
FS(8).d = [0.130000;0.075000;-0.010000;-0.025000];
FS(8).D = [1.000000 0.000000;-0.000000 1.000000;-1.000000 -0.000000;0.000000 -1.000000];
FS(8).v = [0.130000 0.025000; 0.130000 0.075000; 0.010000 0.075000; 0.010000 0.025000; 0.130000 0.025000];
FS(8).type = 2;
plot (FS(8).v(:,1), FS(8).v(:,2), 'k');

FS(11).a = 0.000000;
FS(11).p = [0.080000;-0.050000];
FS(11).d = [0.170000;-0.025000;-0.050000;0.075000];
FS(11).D = [1.000000 0.000000;-0.000000 1.000000;-1.000000 -0.000000;0.000000 -1.000000];
FS(11).v = [0.170000 -0.075000; 0.170000 -0.025000; 0.050000 -0.025000; 0.050000 -0.075000; 0.170000 -0.075000];
FS(11).type = 2;
plot (FS(11).v(:,1), FS(11).v(:,2), 'k');

FS(14).a = 0.000000;
FS(14).p = [0.120000;0.050000];
FS(14).d = [0.210000;0.075000;-0.090000;-0.025000];
FS(14).D = [1.000000 0.000000;-0.000000 1.000000;-1.000000 -0.000000;0.000000 -1.000000];
FS(14).v = [0.210000 0.025000; 0.210000 0.075000; 0.090000 0.075000; 0.090000 0.025000; 0.210000 0.025000];
FS(14).type = 2;
plot (FS(14).v(:,1), FS(14).v(:,2), 'r');

FS(17).a = 0.000000;
FS(17).p = [0.160000;-0.050000];
FS(17).d = [0.250000;-0.025000;-0.130000;0.075000];
FS(17).D = [1.000000 0.000000;-0.000000 1.000000;-1.000000 -0.000000;0.000000 -1.000000];
FS(17).v = [0.250000 -0.075000; 0.250000 -0.025000; 0.130000 -0.025000; 0.130000 -0.075000; 0.250000 -0.075000];
FS(17).type = 2;
plot (FS(17).v(:,1), FS(17).v(:,2), 'r');

FS(20).a = 0.000000;
FS(20).p = [0.200000;0.050000];
FS(20).d = [0.290000;0.075000;-0.170000;-0.025000];
FS(20).D = [1.000000 0.000000;-0.000000 1.000000;-1.000000 -0.000000;0.000000 -1.000000];
FS(20).v = [0.290000 0.025000; 0.290000 0.075000; 0.170000 0.075000; 0.170000 0.025000; 0.290000 0.025000];
FS(20).type = 2;
plot (FS(20).v(:,1), FS(20).v(:,2), 'k');

FS(22).a = 0.000000;
FS(22).p = [0.200000;-0.050000];
FS(22).d = [0.290000;-0.025000;-0.170000;0.075000];
FS(22).D = [1.000000 0.000000;-0.000000 1.000000;-1.000000 -0.000000;0.000000 -1.000000];
FS(22).v = [0.290000 -0.075000; 0.290000 -0.025000; 0.170000 -0.025000; 0.170000 -0.075000; 0.290000 -0.075000];
FS(22).type = 2;
plot (FS(22).v(:,1), FS(22).v(:,2), 'k');

for i=1:length(FS)
    if FS(i).type == 2;
        plot (FS(i).p(1),FS(i).p(2),'gs','MarkerFaceColor','g','MarkerSize',4);
    end
end
%grid on; 
axis equal

hold on
ZMP = [
0.019979 -0.000065;
0.019861 -0.000059;
0.019582 -0.000007;
0.019443 0.000033;
0.019468 0.000055;
0.019669 0.000060;
0.020046 0.000047;
0.020587 0.000009;
0.021272 -0.000061;
0.022074 -0.000172;
0.022949 -0.000383;
0.023870 -0.000635;
0.024810 -0.000910;
0.025744 -0.001246;
0.026647 -0.001700;
0.027498 -0.002340;
0.028283 -0.003237;
0.028993 -0.004467;
0.029623 -0.006098;
0.030163 -0.008179;
0.030630 -0.010800;
0.031049 -0.014080;
0.031465 -0.018067;
0.031924 -0.022874;
0.032517 -0.027949;
0.033248 -0.033067;
0.034174 -0.037860;
0.035353 -0.041556;
0.036832 -0.042932;
0.038678 -0.040963;
0.040952 -0.034586;
0.043741 -0.023390;
0.047190 -0.008249;
0.051086 0.025000;
0.055252 0.031023;
0.059618 0.034288;
0.064126 0.035088;
0.068721 0.033887;
0.073385 0.031354;
0.078118 0.027949;
0.082947 0.020794;
0.088001 0.006355;
0.093077 -0.025000;
0.098013 -0.031848;
0.102768 -0.036299;
0.107327 -0.038351;
0.111687 -0.037990;
0.115886 -0.035201;
0.119979 -0.029909;
0.124070 -0.020721;
0.128344 -0.006199;
0.132659 0.025000;
0.136879 0.031666;
0.140995 0.035854;
0.145020 0.037624;
0.148982 0.037044;
0.152923 0.034279;
0.156894 0.029436;
0.160984 0.020735;
0.165363 0.006244;
0.169851 -0.025000;
0.174307 -0.031629;
0.178700 -0.035787;
0.183013 -0.037540;
0.187248 -0.036977;
0.191417 -0.034274;
0.195541 -0.029463;
0.199661 -0.021121;
0.203909 -0.007629;
0.208038 0.025000;
0.211903 0.032562;
0.215437 0.037513;
0.218586 0.039957;
0.221315 0.040057;
0.223604 0.038028;
0.225446 0.034115;
0.226863 0.028726;
0.227879 0.022214;
0.228534 0.015182;
0.228873 0.008037;
0.228949 0.001138;
0.228815 -0.005212;
0.228526 -0.010769;
0.228136 -0.015360;
0.227694 -0.018874;
0.227243 -0.021264;
0.226822 -0.022542;
0.226459 -0.022768;
];

ZMPref = [
0.030000 0.000000;
0.030000 -0.050000;
0.070000 0.050000;
0.110000 -0.050000;
0.150000 0.050000;
0.190000 -0.050000;
0.230000 0.050000;
0.230000 0.000000;
];

CoM = [
0.019979 -0.000065;
0.019981 -0.000065;
0.019987 -0.000066;
0.019997 -0.000067;
0.020013 -0.000069;
0.020037 -0.000072;
0.020070 -0.000076;
0.020111 -0.000083;
0.020163 -0.000091;
0.020226 -0.000101;
0.020300 -0.000113;
0.020386 -0.000128;
0.020485 -0.000146;
0.020595 -0.000167;
0.020718 -0.000192;
0.020852 -0.000220;
0.020999 -0.000252;
0.021158 -0.000289;
0.021329 -0.000330;
0.021510 -0.000377;
0.021702 -0.000429;
0.021905 -0.000486;
0.022117 -0.000551;
0.022337 -0.000622;
0.022566 -0.000701;
0.022802 -0.000787;
0.023045 -0.000882;
0.023294 -0.000986;
0.023548 -0.001098;
0.023807 -0.001220;
0.024069 -0.001353;
0.024334 -0.001496;
0.024602 -0.001651;
0.024871 -0.001819;
0.025141 -0.002000;
0.025411 -0.002197;
0.025681 -0.002409;
0.025950 -0.002639;
0.026218 -0.002888;
0.026484 -0.003158;
0.026747 -0.003450;
0.027007 -0.003765;
0.027264 -0.004105;
0.027518 -0.004472;
0.027768 -0.004867;
0.028014 -0.005292;
0.028256 -0.005747;
0.028494 -0.006235;
0.028728 -0.006757;
0.028958 -0.007312;
0.029184 -0.007904;
0.029407 -0.008531;
0.029627 -0.009195;
0.029843 -0.009896;
0.030058 -0.010634;
0.030271 -0.011410;
0.030483 -0.012222;
0.030696 -0.013069;
0.030909 -0.013951;
0.031124 -0.014864;
0.031343 -0.015807;
0.031566 -0.016776;
0.031794 -0.017767;
0.032030 -0.018775;
0.032274 -0.019794;
0.032528 -0.020816;
0.032794 -0.021833;
0.033073 -0.022835;
0.033366 -0.023811;
0.033675 -0.024751;
0.034002 -0.025643;
0.034347 -0.026474;
0.034714 -0.027232;
0.035102 -0.027902;
0.035514 -0.028469;
0.035951 -0.028919;
0.036416 -0.029234;
0.036908 -0.029399;
0.037431 -0.029397;
0.037984 -0.029212;
0.038571 -0.028830;
0.039191 -0.028238;
0.039848 -0.027426;
0.040541 -0.026384;
0.041272 -0.025106;
0.042042 -0.023591;
0.042852 -0.021837;
0.043703 -0.019852;
0.044595 -0.017646;
0.045529 -0.015232;
0.046504 -0.012630;
0.047521 -0.009867;
0.048579 -0.006969;
0.049676 -0.003970;
0.050811 -0.000906;
0.051982 0.002168;
0.053186 0.005109;
0.054421 0.007780;
0.055687 0.010156;
0.056980 0.012245;
0.058299 0.014052;
0.059643 0.015582;
0.061009 0.016844;
0.062397 0.017843;
0.063804 0.018587;
0.065229 0.019083;
0.066671 0.019338;
0.068128 0.019359;
0.069600 0.019153;
0.071085 0.018725;
0.072582 0.018079;
0.074091 0.017219;
0.075611 0.016146;
0.077140 0.014861;
0.078679 0.013360;
0.080226 0.011640;
0.081781 0.009695;
0.083343 0.007526;
0.084911 0.005157;
0.086484 0.002618;
0.088060 -0.000056;
0.089637 -0.002827;
0.091213 -0.005640;
0.092786 -0.008359;
0.094355 -0.010854;
0.095919 -0.013099;
0.097475 -0.015092;
0.099024 -0.016833;
0.100564 -0.018322;
0.102094 -0.019560;
0.103614 -0.020546;
0.105124 -0.021281;
0.106624 -0.021766;
0.108113 -0.022002;
0.109592 -0.021990;
0.111061 -0.021731;
0.112521 -0.021229;
0.113972 -0.020484;
0.115415 -0.019500;
0.116852 -0.018280;
0.118282 -0.016828;
0.119707 -0.015147;
0.121128 -0.013245;
0.122546 -0.011127;
0.123961 -0.008804;
0.125375 -0.006302;
0.126788 -0.003649;
0.128199 -0.000879;
0.129608 0.001972;
0.131015 0.004850;
0.132418 0.007621;
0.133818 0.010157;
0.135214 0.012433;
0.136606 0.014448;
0.137994 0.016205;
0.139379 0.017705;
0.140759 0.018949;
0.142136 0.019938;
0.143510 0.020676;
0.144882 0.021164;
0.146251 0.021404;
0.147619 0.021400;
0.148987 0.021154;
0.150355 0.020669;
0.151724 0.019948;
0.153094 0.018995;
0.154467 0.017811;
0.155844 0.016401;
0.157225 0.014766;
0.158611 0.012910;
0.160002 0.010838;
0.161399 0.008557;
0.162803 0.006093;
0.164213 0.003474;
0.165628 0.000735;
0.167047 -0.002088;
0.168469 -0.004940;
0.169893 -0.007687;
0.171318 -0.010201;
0.172742 -0.012454;
0.174165 -0.014448;
0.175586 -0.016184;
0.177004 -0.017663;
0.178419 -0.018887;
0.179829 -0.019857;
0.181235 -0.020574;
0.182636 -0.021041;
0.184031 -0.021261;
0.185420 -0.021234;
0.186803 -0.020965;
0.188180 -0.020454;
0.189549 -0.019706;
0.190911 -0.018721;
0.192266 -0.017502;
0.193613 -0.016052;
0.194951 -0.014371;
0.196281 -0.012464;
0.197601 -0.010333;
0.198911 -0.007984;
0.200210 -0.005438;
0.201496 -0.002718;
0.202767 0.000150;
0.204022 0.003136;
0.205257 0.006187;
0.206471 0.009164;
0.207661 0.011930;
0.208825 0.014457;
0.209962 0.016745;
0.211070 0.018796;
0.212148 0.020611;
0.213193 0.022192;
0.214204 0.023542;
0.215180 0.024667;
0.216120 0.025569;
0.217023 0.026256;
0.217888 0.026731;
0.218715 0.027004;
0.219503 0.027080;
0.220251 0.026967;
0.220960 0.026675;
0.221628 0.026212;
0.222258 0.025587;
0.222848 0.024812;
0.223398 0.023897;
0.223911 0.022852;
0.224385 0.021690;
0.224822 0.020421;
0.225222 0.019060;
0.225588 0.017617;
0.225918 0.016105;
0.226216 0.014535;
0.226481 0.012920;
0.226715 0.011271;
0.226920 0.009600;
0.227097 0.007915;
0.227247 0.006229;
0.227372 0.004551;
0.227473 0.002891;
0.227552 0.001256;
0.227611 -0.000343;
0.227650 -0.001901;
0.227672 -0.003408;
0.227677 -0.004860;
0.227669 -0.006249;
0.227647 -0.007570;
0.227614 -0.008818;
0.227571 -0.009989;
0.227520 -0.011080;
0.227462 -0.012087;
0.227398 -0.013008;
0.227329 -0.013840;
0.227257 -0.014584;
0.227183 -0.015237;
0.227108 -0.015799;
0.227033 -0.016271;
0.226960 -0.016654;
0.226888 -0.016948;
0.226820 -0.017155;
0.226755 -0.017277;
0.226694 -0.017317;
0.226639 -0.017277;
0.226589 -0.017160;
];

C = plot(CoM(:,1), CoM(:,2), 'b');
Z = plot(ZMP(:,1), ZMP(:,2), 'k');
R = plot(ZMPref(:,1), ZMPref(:,2), 'ko');
F = plot (FS(22).p(1),FS(22).p(2),'gs','MarkerFaceColor','g','MarkerSize', 4);

%legend(C, 'Center of Mass', 'location', 'southeastoutside')
%legend(R, 'Reference ZMP', 'location', 'southeastoutside')
%legend(Z, 'Zero Moment Point', 'location', 'southwestoutside')
%legend(F, 'Foot Positions')
hold off

xlabel('x (meter)')
ylabel('y (meter)')

print -depsc2 -FTimes:16 -tight footsteps.eps
